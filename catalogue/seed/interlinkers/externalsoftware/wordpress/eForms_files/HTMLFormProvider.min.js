(function(g,h){var k,l="",c=[],e={},m,f,n={getHTML:function(a,b){c[a]&&h.ajax({url:l+c[a].contentRoot+"\x26template\x3d"+c[a].template,type:"GET",async:!1}).done(function(a){b.success.apply(b.context,[a])}).fail(function(a){b.error&&b.error.apply(b.context,[a.status,a.statusText])})},getPrefillJson:function(a,b){var d=e[a],c=window.formsetBridge.prefillXml;c=c?encodeURI(window.formsetBridge.prefillXml):null;null==d&&null!=f?h.ajax({url:k+"."+a+".prefilljson?formsetPath\x3d"+m+"\x26dataRef\x3d"+f+
"\x26prefillXml\x3d"+c,type:"POST",async:!1}).done(function(c){g.isObject(c)&&g.isArray(c.formjson)&&0<c.formjson.length&&(d=c.formjson[0].prefillJson,e[a]=d);b.success.apply(b.context,[d])}).fail(function(a){b.error&&b.error.apply(b.context,[a.status,a.statusText])}):b.success.apply(b.context,[d])},savePrefillJson:function(a){e[a.formNumber]=a.prefillJson}};window.addEventListener("FormsetBridgeInitialized",function(a){if(a=a.detail.formsetBridge)a.setFormProvider(n),a.connect(function(a){k=a.getFormsetUrl();
var b=a._getFormSetJson();c=b.formsInfo;m=b.renderContext.formsetPath;f=b.renderContext.dataRef;l=a.getFormProfileUrl()+"?contentRoot\x3d"})})})(_,$);